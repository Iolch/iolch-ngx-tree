<ng-container *ngIf="flatTree">
    <ng-container *ngFor="let node of flatTree">
        <ng-container *ngTemplateOutlet="node.template; context: {$implicit: node}"></ng-container>
    </ng-container>
</ng-container>